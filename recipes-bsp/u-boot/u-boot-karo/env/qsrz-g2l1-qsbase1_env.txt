append_bootargs=quiet
autoload=no
autostart=no
baseboard=qsbase1
baudrate=115200
boot_mode=mmc
bootargs_mmc=run default_bootargs;setenv bootargs ${bootargs} root=PARTUUID=${uuid_rootfs} rootwait ${append_bootargs}
bootargs_net=run bootargs_nfs
bootargs_nfs=run default_bootargs;setenv bootargs ${bootargs} root=/dev/nfs nfsroot=${nfs_server}:${nfsroot},nolock,v3 ip=dhcp ${append_bootargs}
bootcmd=setenv autostart no;run bootargs_${boot_mode} load_kernel_${boot_mode} bootm_cmd
bootdelay=1
bootdev=mmc
bootm_cmd=booti ${loadaddr} ${ramdisk_addr_r} ${fdt_addr}
bootpart=0:1
default_bootargs=setenv bootargs console=ttySC0,115200 ro panic=-1
fdt_file=r9a07g044l2-qsrz-g2l1.dtb
emmc_boot_ack=0
emmc_boot_part=1
fdtaddr=48000000
fdt_addr=48000000
fdtsave=save ${bootdev} ${bootpart} ${fdt_addr} /${fdt_file} ${fdtsize}
linux_kernel=Image
loadaddr=48200000
load_dtb_mmc=load ${bootdev} ${bootpart} ${fdt_addr} ${fdt_file}
load_dtb_net=setenv autoload y;bootp ${fdt_addr} ${fdt_file}
load_dtb_nfs=run load_dtb_net
load_kernel_mmc=load ${bootdev} ${bootpart} ${loadaddr} ${linux_kernel}
load_kernel_net=setenv autoload y;bootp ${loadaddr} ${linux_kernel}
load_kernel_nfs=run load_kernel_net
load_overlays=for f in ${overlays};do fdt addr ${fdt_addr_r};setenv ov ${f};run ov_load || exit;echo "Applying $f";fdt apply ${fdto_addr} || exit;done
ov_load=echo Loading ${ov};load mmc ${bootpart} ${fdto_addr} r9a07g044l2-${ov}.dtbo;fdt resize ${filesize}
overlays_qsbase1=setenv overlays karo-led karo-sdcard qsrz-lcd-panel qsrz-ft5x06 qsrz-ksz9131
overlays_qsglyn1=setenv overlays karo-led karo-sdcard qsrz-lcd-panel qsrz-ili2130 qsrz-ksz9131
overlays_qsbase4=setenv overlays karo-led qsrz-ksz9131
ramdisk_addr_r=-
set_overlays=run overlays_${baseboard}
preboot=gpio clear P28_1; gpio set P25_1; gpio set P26_0; gpio set P26_1; gpio set P24_0; gpio clear P24_1; gpio clear P25_0; gpio set P28_1; gpio in P25_0; gpio in P25_1; gpio in P26_0; gpio in P26_1
