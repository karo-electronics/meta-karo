#@TYPE: Machine
#@NAME: qsmp-1510
#@DESCRIPTION: Machine Configuration for Ka-Ro electronics GmbH's QSMP-1510 CoM

MACHINEOVERRIDES =. "qsmp:"

include include/txmp-base.inc
SOC_FAMILY = "stm32mp151a"

IMAGE_CLASSES:remove = "st-partitions-image"

FLASHLAYOUT_CONFIG_LABELS = "spinand"

MACHINE_FEATURES:remove = "emmc"
MACHINE_FEATURES:append = " nand"

# =========================================================================
# U-Boot configs
# =========================================================================
UBOOT_CONFIG[generic]   = "qsmp-1510_defconfig,,u-boot.img"
UBOOT_CONFIG[noenv]   = "qsmp-1510_noenv_defconfig,,u-boot.img"
UBOOT_CONFIG[mfg] = "qsmp-1510_mfg_defconfig,,u-boot.bin"
UBOOT_CONFIG[trusted] = "qsmp-1510_trusted_defconfig,,u-boot.bin"

# Trusted Firmware
TF_A_DEVICETREE ?= "stm32mp151a-qsmp-1510"

# Kernel
KERNEL_DEVICETREE ?= " \
	stm32mp151a-qsmp-1510.dtb \
	stm32mp151a-qsmp-1510-qsbase1.dtb \
	stm32mp151a-qsmp-1510-qsbase4.dtb \
"

IMAGE_BOOT_FILES = ""
